#!/usr/bin/env ruby

$LOAD_PATH << File.expand_path("../../lib", __FILE__)

require 'clamp'
require 'tagfish/tags_command'
require 'tagfish/update/update_command'
require 'tagfish/search_command'
require "tagfish/version"

module Tagfish
  class MainCommand < Clamp::Command
    option ["-v", "--version"], :flag, "display version" do
        puts "tagfish-#{Tagfish::VERSION}"
        exit 0
    end
  end

  class MainCommand < Clamp::Command
    subcommand "tags", "find tags for a repository", TagsCommand
  end

  class MainCommand < Clamp::Command
    subcommand "update", "inspect files for outdated dependencies", Update::UpdateCommand
  end
  
  class MainCommand < Clamp::Command
    subcommand "search", "search a registry for repositories", SearchCommand
  end
  
  MainCommand.run
end
